<visualization>
    <!-- NOTE: the properties reflect rviz display properties, please use the correct name -->
    <frames>
      <frame name="base_link"/> <!-- 1st is used as default fixed frame -->
      <frame name="world"/>
      <frame name="Waist"/>
      <frame name="l_sole"/>
      <frame name="r_sole"/>
    </frames>

    <display name="robot" type="rviz/RobotModel"/>

    <display name="point_cloud" type="rviz/PointCloud2">
	<property name="Topic" value="/multisense/lidar_points2"/>
	<property name="Style" value="Points"/>
	<property name="Size (Pixels)" value="3.0"/>
	<property name="Alpha" value="0.1"/>
    </display>
    
    <display name="camera" type="rviz/Image">
	<property name="Image Topic" value="camera_raw"/>
    </display>

    <!--   trajectory_utils   -->
    <display name="left_path" type="rviz/Path">
	<property name="Topic" value="/LSoftHand_trj_viz"/>
    </display>
    <display name="left_marker" type="rviz/InteractiveMarkers">
	<property name="Update Topic" value="/LSoftHand_trajectory_marker_server/update"/>
    </display>
    <display name="left_traj" type="rviz/MarkerArray">
	<property name="Marker Topic" value="/trj_visual_markers_Waist_to_LSoftHand"/>
    </display>
    <display name="right_path" type="rviz/Path">
	<property name="Topic" value="/RSoftHand_trj_viz"/>
    </display>
    <display name="right_marker" type="rviz/InteractiveMarkers">
	<property name="Update Topic" value="/RSoftHand_trajectory_marker_server/update"/>
    </display>
    <display name="right_traj" type="rviz/MarkerArray">
	<property name="Marker Topic" value="/trj_visual_markers_Waist_to_RSoftHand"/>
    </display>
    
</visualization>

<modules> <!-- here are defined additional commands for plugins defined in yaml config files can be defined, pay attention to plugin names! -->
  
    <module name="ManipulationPlugin">
        <command_block>
	    <command type="object_pose" topic="manipulation_plugin_object_pose" interactive_marker="valve"/>
	</command_block>
    </module>

    <module name="Hose_Task">
        <command_block>
	    <command type="object_pose" topic="hose_grasp_pose" interactive_marker="extinguisher"/>
	</command_block>
    </module>

    <module name="DebrisRemovalTask">
	<command_block>
	    <command type="cmd_service" name="homing_success"/>
	    <command type="cmd_service" name="homing_fail"/>
	</command_block>

	<command_block>
	    <command type="cmd_service" name="reached_success"/>
	    <command type="cmd_service" name="reached_fail"/>
	</command_block>
      
	<command_block>
	    <command type="cmd_service" name="grasped_success"/>
	    <command type="cmd_service" name="grasped_fail"/>
	    <command type="cmd_service" name="move_away_after_ho"/>
	</command_block>

	<command_block>
	    <command type="cmd_service" name="picked_success"/>
	    <command type="cmd_service" name="picked_fail"/>
	    <command type="cmd_service" name="pick_second_hand"/>
	</command_block>
	
	<command_block>
	    <command type="cmd_service" name="pick_second_hand_success"/>
	    <command type="cmd_service" name="pick_second_hand_fail"/>
	</command_block>
      
	<command_block>
	    <command type="cmd_service" name="movedaway_success"/>
	    <command type="cmd_service" name="movedaway_fail"/>
	</command_block>
      
	<command_block>
	    <command type="cmd_service" name="ungrasped_success"/>
	    <command type="cmd_service" name="ungrasped_fail"/>
	</command_block>
    </module>

    <module name="chengxu_walking">
	<command_block>
	    <command type="goal" topic="chengxu_walking_goal"/>
	    <command type="object_sequence" topic="walking_sequence" interactive_markers_sequence="feet"/>
	</command_block>
    </module>
</modules>

<interactive_markers>

    <!--<interactive_marker name="object">
	<object name="box">
	    <property name="scale_x" value="0,5"/>
	    <property name="scale_y" value="0,5"/>
	    <property name="scale_z" value="0,5"/>
	    <property name="id" value="0"/>
	    <property name="type" value="visualization_msgs::Marker::CUBE"/>
	    <property name="mesh" value=""/>
	</object>
    </interactive_marker>-->
    
    <interactive_marker name="valve">
	<object name="valve">
	    <property name="scale_x" value="0,01"/>
	    <property name="scale_y" value="0,01"/>
	    <property name="scale_z" value="0,3"/>
	    <property name="id" value="0"/>
	    <property name="type" value="visualization_msgs::Marker::CYLINDER"/>
	    <property name="mesh" value=""/>
	</object>
    </interactive_marker>
    
    <interactive_marker name="door">
	<object name="handle">
	    <property name="scale_x" value="0,1"/>
	    <property name="scale_y" value="0,05"/>
	    <property name="scale_z" value="0,4"/>
	    <property name="id" value="0"/>
	    <property name="type" value="visualization_msgs::Marker::CUBE"/>
	    <property name="mesh" value=""/>
	</object>
    </interactive_marker>
    
    <interactive_marker name="debris">
	<object name="debris_1">
	    <property name="scale_x" value="0,05"/>
	    <property name="scale_y" value="0,05"/>
	    <property name="scale_z" value="1,2"/>
	    <property name="id" value="0"/>
	    <property name="type" value="visualization_msgs::Marker::CUBE"/>
	    <property name="mesh" value=""/>
	</object>
	<object name="debris_2">
	    <property name="scale_x" value="0,05"/>
	    <property name="scale_y" value="0,05"/>
	    <property name="scale_z" value="1,495"/>
	    <property name="id" value="1"/>
	    <property name="type" value="visualization_msgs::Marker::CUBE"/>
	    <property name="mesh" value=""/>
	</object>
	<object name="debris_3">
	    <property name="scale_x" value="0,05"/>
	    <property name="scale_y" value="0,05"/>
	    <property name="scale_z" value="1,999"/>
	    <property name="id" value="2"/>
	    <property name="type" value="visualization_msgs::Marker::CUBE"/>
	    <property name="mesh" value=""/>
	</object>
    </interactive_marker>
    
    <interactive_marker name="extinguisher">
	<object name="handle">
	    <property name="scale_x" value="0,1"/>
	    <property name="scale_y" value="0,01"/>
	    <property name="scale_z" value="0,01"/>
	    <property name="id" value="0"/>
	    <property name="type" value="visualization_msgs::Marker::ARROW"/>
	    <property name="mesh" value=""/>
	</object>
	<object name="hose_end">
	    <property name="scale_x" value="0,03"/>
	    <property name="scale_y" value="0,03"/>
	    <property name="scale_z" value="0,2"/>
	    <property name="id" value="1"/>
	    <property name="type" value="visualization_msgs::Marker::CYLINDER"/>
	    <property name="mesh" value=""/>
	</object>
	<object name="fire">
	    <property name="scale_x" value="0,1"/>
	    <property name="scale_y" value="0,1"/>
	    <property name="scale_z" value="0,1"/>
	    <property name="id" value="2"/>
	    <property name="type" value="visualization_msgs::Marker::SPHERE"/>
	    <property name="mesh" value=""/>
	</object>
    </interactive_marker>

<!--    <interactive_marker name="hands">
	<object name="right_hand">
	    <property name="scale_x" value="0,001"/>
	    <property name="scale_y" value="0,001"/>
	    <property name="scale_z" value="0,001"/>
	    <property name="id" value="0"/>
	    <property name="type" value="visualization_msgs::Marker::MESH_RESOURCE"/>
	    <property name="mesh" value="walkman_right_softhand.dae"/>
	</object>
	<object name="left_hand">
	    <property name="scale_x" value="0,001"/>
	    <property name="scale_y" value="0,001"/>
	    <property name="scale_z" value="0,001"/>
	    <property name="id" value="1"/>
	    <property name="type" value="visualization_msgs::Marker::MESH_RESOURCE"/>
	    <property name="mesh" value="walkman_left_softhand.dae"/>
	</object>
    </interactive_marker>-->
    
</interactive_markers>

<interactive_markers_sequence>
    <interactive_marker name="feet">
	<object name="right_foot" id="0">
	    <property name="scale_x" value="0,001"/>
	    <property name="scale_y" value="0,001"/>
	    <property name="scale_z" value="0,001"/>
	    <property name="type" value="visualization_msgs::Marker::MESH_RESOURCE"/>
	    <property name="mesh" value="walkman_right_foot.dae"/>
	</object>
	<object name="left_foot" id="1">
	    <property name="scale_x" value="0,001"/>
	    <property name="scale_y" value="0,001"/>
	    <property name="scale_z" value="0,001"/>
	    <property name="type" value="visualization_msgs::Marker::MESH_RESOURCE"/>
	    <property name="mesh" value="walkman_left_foot.dae"/>
	</object>
    </interactive_marker>
</interactive_markers_sequence>
